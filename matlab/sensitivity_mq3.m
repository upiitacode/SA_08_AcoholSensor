#!/usr/bin/octave

% mg/L vs Rs/Ro
sensitivity_data = [0.10180564571567052, 2.267582526766298;
0.21786626448504745, 1.5128908076758212;
0.4056933045738475, 0.990108425102596;
1.036718325795989, 0.539572092899625;
1.6525506016836027, 0.38884024070178486;
2.5479546888571245, 0.2884342921081224;
4.06115901996119, 0.2019364191540778;
6.124864513474655, 0.1587077999097283;
7.994888987855653, 0.13215689389154128;
9.98279868361347, 0.11437207359356437]

% temperature vs rs/ro
rh85 = [-9.856086300305625, 1.3642618305275012;
-4.850969749032309, 1.2495490932239066;
0.11266680128273165, 1.1407349352645035;
5.119699920257084, 1.067333814756887;
11.587568320504886, 0.9822371820978888;
20.101098946230003, 0.8913898196030651;
30.16157350208256, 0.8449188710047265;
40.13888270947915, 0.805818836438059;
50.159040894763315, 0.7903285202386132]

% temperature vs rs/ro
rh33 = [-9.887230525447578, 1.5929480575928594;
-4.924620707829526, 1.462002676349897;
0.08070118998319487, 1.351716183703014;
5.0858861901029755, 1.2384788612849902;
11.427192673235474, 1.125340105205877;
20.064684159910193, 1.0064691004794843;
30.12399508537282, 0.9349160988264447;
40.10123584392295, 0.8943406493742067;
50.162874030165405, 0.8729517538305686]

relative_resistance = sensitivity_data(:,1)
alcohol_concentration =sensitivity_data(:,2)
rh85_temp = rh85(:,1)
rh85_res = rh85(:,2)

rh33_temp = rh33(:,1)
rh33_res = rh33(:,2)

function y = interpolate(p1,p2,x)
	dx = p2(1) - p1(1);
	dy = p2(2) - p1(2);
	m = dy/dx;
	x0 = p1(1);
	y0 = p1(2);
	y = m*(x-x0) + y0;
end

function y = loglogInterpolation(p1,p2,x)
	y  = 10^(interpolate(log10(p1), log10(p2),log10(x)));
end

% linear vs log interporlation
reading  = interpolate(sensitivity_data(1,:), sensitivity_data(4,:), 0.4)
reading  = loglogInterpolation(sensitivity_data(1,:), sensitivity_data(4,:), 0.4)

dummy = input('press enter to exit')
